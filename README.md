                            Corona-Virus-Domestic-Abuse-Analysis
         
                                  Project Introduction
I chose two data sets to base our analysis on. The first shows the total number of COVID-19 cases by counties in Texas from March of 2020 to April of 2021. The second dataset shows the number of abuse and neglect cases in Texas by county from 2011 to 2020. Initially, I ran into some issues with these two datasets. In the COVID dataset, there were some rows within the original source file that explained the data, so I had to make sure to delete rows with unmeaningful data. In the abuse and neglect dataset, there were rows of data called "Out of State", which contained the number of both confirmed and not confirmed victims within each year that were not in the state of Texas. I excluded these lines to only have the data for within the state of Texas. I also had some granularity issues, because the COVID cases were separated by date using month, day, year, while the abuse dataset was sorted by year alone. I also ran into the issue of the dates being listed by columns on one dataset, but by rows on the other. Lastly, the original dataset for the abuse and neglect cases had some missing data, so I had to figure out a way to handle our missing values.
I chose these two datasets because the data on both are sorted by the 254 counties in Texas. I was able to make the county names our natural key for the merge between these two files. After converting the date from the COVID dataset to year instead of date, month, and year format, I will also be able to merge the two datasets on the year variable as well. In this project, I hope to analyze the number of abuse and neglect cases before and after COVID hit Texas to see any increase or decrease in the number of victims within the state.
                                      Data Analysis
By analyzing these two datasets, I am expected to see some correlation between COVID cases and abuse and neglect cases within the state of Texas. Prior to working with the datasets, I predicted that there would be an increase in the number of abuse and neglect cases from 2019 to 2020 due to the Stay-at-Home Order put into effect in the state of Texas during 2020 when COVID cases were at their highest. Each column in the COVID Total Cases dataset is a different day from March 4, 2020, to April 19, 2021, so I will have to change these columns to list the cases for each county by the year alone because that is what the data in the abuse and neglect dataset is sorted by. I also made the decision to delete the data from 2021 to only show the COVID cases for the year 2020. The contents in these columns represent the number of COVID cases recorded on that day for each county.
The abuse and neglect dataset contains five different variables: Fiscal Year, County, Region, Confirmed Victims, and Victims. This dataset contained data from 2011 to 2019, so I decided to only keep the data from 2019 to 2020, so I could analyze the increase or decrease in victims before and during COVID times. The "Confirmed Victims" variable has either a value of "Confirmed Victim" or "Not Confirmed" within each year and county. The website where I found this dataset, data.texas.gov, states that this data only pertains to completed investigations. A confirmed victim means the child "was an alleged victim on at least one allegation with a disposition of reason to believe" and an unconfirmed victim means the child "was an alleged victim on at least one allegation with a disposition of unable to complete, unable to determine or ruled out" (TX DFPS). I have decided to keep these two variables separate to show the number of both confirmed and unconfirmed victims within the time span of 2019-2020. The "Region" column contained one of the eleven regions in Texas where the abuse or neglect investigation occurred. I decided to omit this variable from our final dataset.
If I was able to sort the data in the abuse and neglect dataset by day, month, year instead of just year alone, I would be able to pinpoint exactly where the numbers spiked for both COVID-19 cases and abuse and neglect cases to see if they were at their highest points at roughly the same time. This would be crucial in explaining the risk of staying at home for people who experience domestic violence within their households. However, for our analysis, I will be looking at the total number of COVID cases in 2020 by county name and compare this to the total number of victims, both confirmed and not confirmed, by county for 2019 and 2020. As explained later in the analysis part of this paper, I have found that there was a decrease in abuse and neglect cases from 2019 to 2020, the year COVID-19 hit Texas. If I had another dataset that contained information on the National Domestic Violence Hotline that provided me with reasoning for a person's call, I would be able to see if the victims were unable to make a report since they are around their partners constantly with no escape to make an investigation happen. 
                                    Data Cleaning
Overall, there were a few alterations I had to make to the original datasets prior to reading them into our code. As stated before, the COVID dataset had a couple of rows that contained an explanation of the data that I deleted because this was not meaningful to me and our analysis. Also, each column in this dataset was named "Cases MM/DD/YY", so I had to make sure to delete the word "Cases" from each column header to ensure that I get the date only. This dataset also contained a row called "Total" where it showed the total number of COVID cases by day within the whole state of Texas. I deleted this row inside of our code, so I was left with only similar rows within the two datasets for the "County Name" column. Another issue I had to account for was our dates in both datasets being of different formats. As stated above, the COVID dataset had its dates printed in MM/DD/YY format while the abuse and neglect dataset dates were sorted by fiscal year. To change this, I had to convert the column names in the COVID dataset, which were int64, or integer numbers, to DateTime data types. After this conversion, I was able to change the format to year alone, which resulted in the final year value being an integer number. After completing this step, I ran into another issue. Our COVID dataset had the dates as the columns, while the abuse and neglect dataset had the dates as rows. To resolve this issue, I utilized the melt function in Pandas to change these dates in the COVID dataset from columns to rows. Finally, I created a new column within this dataset titled "Total Cases", which summed up the total number of COVID-19 cases for each county for the year of 2020. I then created a separate data frame that contained the columns "County Name", "Total Cases", and "Year", which showed me the total number of COVID-19 cases per county for 2020. After this step, our COVID dataset was now ready to merge.
In the abuse and neglect dataset, there was a row called "Out of State" for each year which contained the number of confirmed and not confirmed victims outside of Texas. Like I did for the "Total" row in the COVID dataset, I deleted the "Out of State" rows to ensure the county columns between the two datasets matched. There were also a couple of counties missing either a "Not Confirmed" row, a "Confirmed Victim" row, or both. I had to manually go in and insert the county names that were missing in the original dataset to ensure that the join would have no issues later. After entering these county names back into the datasets as rows, the only missing data I had to deal with was the "Victims" column for the corresponding "Confirmed Victim" or "Not Confirmed" rows. Each county name was repeated twice for each year, once for "Confirmed Victim" and again for "Not Confirmed". The number in the "Victims" column represented the number of Confirmed Victims or Not Confirmed victims depending on which row I were currently on. So, the missing data type, in this case, was a float64, or a floating-point number. After analyzing the original dataset, I realized that the counties that contained missing data for one year typically had data to reference in the other year I had on file. I saw a pattern that if they had low numbers, like 2-3 victims, I would assume that this county had 0 victims for the year with missing data. So, in the code, I decided to fill in the missing values with 0's. This is an educated guess that I would have to double-check with the creator of the dataset if I would choose to analyze this any further. Our datasets contained a couple of different datatypes, which include float64, or float-point numbers, objects, or strings in Python, and datetime64. The datatypes of the variables in their separate data frames prior to the 
merge and after the merge can be seen in Figure 1. 
                        Figure 1: Variable Data Types
![image](https://user-images.githubusercontent.com/73721493/120854262-854f1d00-c542-11eb-8be1-4915da3d6092.png)

                                  Data Merging
Originally, I only performed one merge, which included merging the COVID dataset with the abuse and neglect dataset on both the county and year variables. After doing this, I saw that I had a total of 1016 rows because each row was being repeated twice. Once because of the 'Year" variable, which could contain 2019 or 2020, and again for the "Confirmed Victim" variable, which could contain "Confirmed Victim" or "Not Confirmed". As stated before, I was able to calculate the total number of cases by county, which I titled "Total Cases", using the sum function to add all the columns within a row in the COVID dataset. This variable is an example of an aggregate measurement. The repetition of the "Year" and "Confirmed Victim" variables resulted in the "Total Cases" variable mentioned above to be repeated twice for every county making this an example of multilevel measurement. An example of this is shown below in Figure 2.
![image](https://user-images.githubusercontent.com/73721493/120854304-926c0c00-c542-11eb-9ac4-9f3fe259417c.png)
Figure 2: Multilevel Measurement Example
These added rows in our final data frame were redundant, so I decided to create two new data frames to handle this. I started by adding two new columns to the original abuse and neglect data frame called "Not Confirmed" and "Confirmed Victims". I then added numbers into these columns depending on how many victims were in each row for its respective county. After doing this, I created two new data frames: one that contained the year, county names, and number of confirmed victims and another which contained the year, county names, and the number of not confirmed victims. From here, I merged the two data frames using an inner merge to give me a data frame with the columns "Fiscal Year", "County", "Not Confirmed", and "Confirmed Victims". This had 504 rows, which means the counties were repeated only for the years, 2019 and 2020, which is what I initially had in mind. I found that after this step, our data types were incorrect, so I had to convert the "Not Confirmed" and "Confirmed Victims" to floating-point numbers instead of objects. You can see in Figure 1 mentioned in the last section that these variables were shown as floating-point numbers in the final data frame, which means our conversion worked correctly.
Now, I was able to merge the two data sets: one with the number of COVID cases per county for the year 2020 and the other with the number of abuse and neglect cases, both confirmed and not confirmed, per county for 2019 and 2020. I decided to do a left merge on the year and county variables with the abuse and neglect data frame being on the left-hand side. This allowed me to see all the data for both 2019 and 2020, and only the matching data in the COVID dataset. This resulted in null values for the "Total Cases" column for all of 2019 because COVID-19 had not reached Texas at this point. Now that the datasets are combined, I am able to compare the total number of COVID-19 cases in each county to the total number of domestic abuse and neglect victims within the state of Texas. 



                                  Visualizations
![image](https://user-images.githubusercontent.com/73721493/120854361-a7489f80-c542-11eb-8ab7-f80646539842.png)
Figure 3: Abuse and Neglect Cases by County
I utilized Tableau to create Figure 3 above, which represents the counties with the highest number of abuse and neglect cases along with a numerical value of cases per county. The top three counties that have the highest cases of abuse and neglect are Dallas County, Harris County (Houston), and Tarrant County (Fort Worth). I was able to find this data by adding the SUM (Total Cases) of Abuse and Neglect cases to the Color, Size, and Label filers in Tableau. 
![image](https://user-images.githubusercontent.com/73721493/120854381-b29bcb00-c542-11eb-8da3-9b504b0fc049.png)
Figure 4 above shows the counties in Texas with the most COVID-19 cases. I was able to find this data by adding the SUM (Total Cases) of COVID-19 cases to the Color, Size, and Label filters in Tableau. By reading the chart I can see that Harris County (Houston), Dallas County, and Tarrant County (Fort Worth) were the top 3 counties with the most COVID-19 cases. This tells me that the counties with the highest COVID-19 cases also had the highest number of abuse and neglect cases. Figure 5 above shows the sum of the number of confirmed victims and not confirmed victims for both 2019 and 2020. As shown by the trend lines on this graph, I can see that there was a slight increase in the number of confirmed victims. However, for the not confirmed victims, I can see that there was a decrease from 2019 to 2020, which let me know that our original idea of the number of victims increasing during COVID was incorrect. 
                                Analyses of the Data
The COVID-19 is a highly infectious disease caused by a newly discovered coronavirus. It is known to spread mostly from person to person through respiratory droplets produced when an infected person coughs or sneezes. These droplets can get to the mouth or nose of a nearby healthy person, and then inhaled into the lungs. It has an incubation period of up to 14 days (two weeks). Everyone is susceptible to COVID-19, irrespective of your age or gender. The COVID-19 pandemic triggered US states to enforce lockdown orders and restrictions that brought an increase in domestic abuse. Our first impression of the data was that the number of abuses would 
![image](https://user-images.githubusercontent.com/73721493/120854453-d0693000-c542-11eb-9fb5-3abee6662a50.png)

increase as the number of total cases increases, but the result of our analyses shows the opposite. As I did different research on why our expectations and analyses could not arrive at the same result, I found several factors that could affect the outcome, like people not reporting domestic violence due to fear of being sent out of their homes by their perpetrators into a world that is infested with COVID-19. According to Figure 6 above, I can see that the average between the sum of confirmed and unconfirmed abuse cases reduced from 1049.55 to 996.99 from 2019 to 2020, respectively. According to Time.com, "In the United States, where 5,218 people have been infected with the coronavirus, the National Domestic Violence Hotline reports that a growing number of callers say that their abusers are using COVID-19 as a means of further isolating them from their friends and family. "Perpetrators are threatening to throw their victims out on the street, so they get sick," Katie Ray-Jones, the CEO of the National Domestic Violence Hotline tells TIME. "We've heard of some withholding financial resources or medical assistance."" 
I also found out that people that would have been in the position to help report domestic violence like teachers, pediatricians, and social workers were unable to help the victims as a result of the lockdown. According to NCBI, "Currently, our preliminary analysis reveals that there has been an overall decrease in the number of child abuse cases currently being reported. However, this is likely due to children not having friend's family members, teachers, and pastors who can catch the signs and report it." The coronavirus and the domestic situation seemed to be a paradox that victims could not escape. They were told to stay indoors to avoid contracting or infecting others with the infectious virus while trying to battle the hostility in their home. Though I could not derive this from our given data, studies show that reports of domestic violence spiked after schools in Texas started to re-open with drastic measures in place for the pandemic because teachers could notice children that gave signs of being abused and then report it to the appropriate authority. 
To conclude, the corona pandemic affected everyone in different ways, but most can testify about how the pandemic brought about their job loss. According to VoxEU, "Job loss constitutes a significant shock to household income. This can trigger renegotiation of the allocation of a shrunken pie, with stress lowering the bar for conflict. Previous work has demonstrated an association of job loss with psychological stress and substance abuse (Black et al. 2015, Schaller and Stevens 2015) consistent with job loss tightening liquidity constraints, generating uncertainty about future income and/or creating a sense of failure. Stress can, in turn, lead to domestic violence." This shows that the psychological stress that is associated with job loss also contributed to the spike in domestic abuse irrespective of if it was reported or not. 
Flow Diagram
Figure 7 below shows the general flow of our project. It briefly explains each step I took to complete the project at hand without going into extreme detail as I did in the previous paragraphs. These boxes contain the file name or the name of the data frame that I was currently working with and the software I was using at the time. 
![image](https://user-images.githubusercontent.com/73721493/120854706-26d66e80-c543-11eb-8ad3-3bca98c12568.png)
Figure 7: Flow Diagram of Project

Instructions for Code
To run our code on your own computer, there are some minor adjustments that need to be made. Upon downloading the code and uploading it to Spyder for usage, you will need to download the source code files included in the provided .zip file. From here, you will need to change the "path" variable on line 13 to the file path where you have saved the csv files. If you have a Windows computer, you must add in double backslashes between each folder in your file path. After this step, you should be able to read in "file_1" and "file_2" in our code. You must also change the variable called "filepath" on line 16 to the correct file path that will lead you to the output_data folder. This is where our final CSV file with the merged dataset will be printed to.

                                  References

Godin, Mélissa. “How Coronavirus Is Affecting Victims of Domestic Violence.” Time, Time,  18 Mar. 2020, www.time.com/5803887/coronavirus-domestic-violence-victims/ 
Sonia Bhalotra. “Job Displacement, Unemployment Benefits, and Domestic Violence.” VOX, CEPR Policy Portal, www.voxeu.org/article/job-displacement-unemployment-benefits-and-domestic-violence 
TX DFPS Data and Decision Support. “CPI 3.8 Abuse/Neglect Investigations - Alleged and Confirmed Victims By County FY2011-FY2020: Open Data Portal.” Https://Data.texas.gov/, 19 Mar. 2021, data.texas.gov/dataset/CPI-3-8-Abuse-Neglect-Investigations-Alleged-and-C/v63e-6dss.

